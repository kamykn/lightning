<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="./dist/style.css">
	</head>
	<body>
		<div id="muffin">
			<header>
				<div id="menu-wrap">
					<div id="menu-clickable-wrap">
						<template v-for="(typeInt, typeName) in searchTypes">
							<span
								v-bind:id="typeName | toLowerCase"
								v-bind:class="{ active: typeInt == currentSearchType }"
								@click="setNewSearchType(typeInt)">
								{{ typeName | toUpperFirst }}
							</span>
						</template>
						<div id="select-bar" v-bind:style="{ left: ((currentSearchType - 1) * 100) + 'px'  }"></div>
					</div>
				</div>
				<div id="form">
					<input
						id="search"
						v-model="inputString"
						type="text"
						@keydown.tab.exact.prevent="nextSearchType"
						@keydown.shift.tab.prevent="prevSearchType"
						@keydown.up.prevent="moveUpSelector"
						@keydown.down.prevent="moveDownSelector"
						@keydown.ctrl.80.prevent="moveUpSelector"
						@keydown.ctrl.78.prevent="moveDownSelector"
						@keydown.ctrl.74.prevent="setNewSearchType(searchTypes.HISTORY)"
						@keydown.ctrl.75.prevent="setNewSearchType(searchTypes.BOOKMARKS)"
						@keydown.ctrl.76.prevent="setNewSearchType(searchTypes.TABS)"
						@keypress.enter="select"
						placeholder="Fuzzy Search"
						v-focus
					>
				</div>
			</header>
			<div id="main">
				<ul v-if="results && results.length >= 1" @mouseover="resetCurrentSelector" ref="list">
					<template v-if="currentSearchType == searchTypes.HISTORY">
						<template v-for="(result, index) in results">
							<li v-bind:class="{currentSelected: index == currentSelected}">
								<a v-bind:href="result.matches.url" target="_blank">
									<div class="title">
										<template v-if="result.matches.title">
											<span v-html="result.highlighteds.title"></span>
										</template>
										<template v-else>
											(No title.)
										</template>
									</div>
									<div class="url">
										<span v-html="result.highlighteds.url"></span>
									</div>
								</a>
							</li>
						</template>
					</template>
					<template v-else-if="currentSearchType == searchTypes.BOOKMARKS">
						<template v-for="(result, index) in results">
							<li v-bind:class="{currentSelected: index == currentSelected}">
								<a v-bind:href="result.matches.url" target="_blank">
									<div class="title">
										<template v-if="result.matches.title">
											<span v-html="result.highlighteds.title"></span>
										</template>
										<template v-else>
											(No title.)
										</template>
									</div>
									<div class="path">
										<span v-html="result.highlighteds.parentPath"></span>
									</div>
									<div class="url">
										<span v-html="result.highlighteds.url"></span>
									</div>
								</a>
							</li>
						</template>
					</template>
					<template v-else-if="currentSearchType == searchTypes.TABS">
						<template v-for="(result, index) in results">
							<li v-bind:class="{currentSelected: index == currentSelected}">
								<a v-bind:href="result.matches.url" target="_blank">
									<div class="title">
										<span v-html="result.highlighteds.index"></span>
										<template v-if="result.highlighteds.title">:&nbsp;
											<span v-html="result.highlighteds.title"></span>
										</template>
										<template v-else>
											(No title.)
										</template>
									</div>
									<div class="url">
										<span v-html="result.highlighteds.url"></span>
									</div>
								</a>
							</li>
						</template>
					</template>
				</ul>
				<div v-else id="logo">
					<img src="./images/logo.png">
				</div>
			</div>
		</div>
		<script type="text/javascript" src="./dist/bundle.js"></script>
	</body>
</html>
