{"version":3,"sources":["webpack:///./assets/js/index.js","webpack:///./assets/scss/style.scss?dcd2"],"names":["Vue","use","VueRx","window","onload","init","setTabsTab","muff","setReturnListLength","vueInit","chrome","tabs","query","currentWindow","searchWordList","forEach","tab","push","title","url","setSearchWordList","setBookmarksTab","bookmarks","getTree","bookmarksTree","pushBookmarkListRecursive","console","log","i","length","bookmark","children","setHistoryTab","startTime","Date","getTime","text","maxResults","historyList","history","search","results","reverseResult","reverse","result","el","data","inputValue","methods","Promise","resolve","setData","list","subscriptions","$watchAsObservable","pipe","pluck","debounceTime","switchMap","map"],"mappings":"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","file":"0.bundle.js","sourcesContent":["import { muff } from 'muff'\nimport Vue from 'vue/dist/vue.esm.js'\nimport VueRx from 'vue-rx'\nimport { from } from 'rxjs';\nimport { pluck, debounceTime, switchMap, map } from 'rxjs/operators'\n\nimport style from '../scss/style.scss'\n\nVue.use(VueRx)\n\nwindow.onload = function() {\n\tinit()\n}\n\nfunction init() {\n\t// setHistoryTab()\n\t// setBookmarksTab()\n\tsetTabsTab()\n\tmuff.setReturnListLength(20)\n\n\tvueInit();\n}\n\nfunction setTabsTab() {\n\tchrome.tabs.query({currentWindow: true}, function(tabs) {\n\t\tlet searchWordList = []\n\n\t\ttabs.forEach(function(tab) {\n\t\t\tsearchWordList.push({\n\t\t\t\t// path: bookmark.index,\n\t\t\t\ttitle: tab.title,\n\t\t\t\turl: tab.url\n\t\t\t})\n\t\t});\n\n\t\tmuff.setSearchWordList(searchWordList)\n\t});\n}\n\nfunction setBookmarksTab() {\n\tchrome.bookmarks.getTree((bookmarksTree) => {\n\t\tlet searchWordList = []\n\t\tsearchWordList = pushBookmarkListRecursive(bookmarksTree, searchWordList)\n\t\tconsole.log(searchWordList)\n\t\tmuff.setSearchWordList(searchWordList)\n\t});\n}\n\nfunction pushBookmarkListRecursive(bookmarksTree, searchWordList) {\n\tfor (let i =0; i < bookmarksTree.length; i++) {\n\t\tlet bookmark = bookmarksTree[i];\n\n\t\tif (bookmark.url) {\n\t\t\tsearchWordList.push({\n\t\t\t\t// path: bookmark.index,\n\t\t\t\ttitle: bookmark.title,\n\t\t\t\turl: bookmark.url\n\t\t\t})\n\t\t}\n\n\t\tif (bookmark.children) {\n\t\t\tsearchWordList = pushBookmarkListRecursive(bookmark.children, searchWordList);\n\t\t}\n\t}\n\n\treturn searchWordList\n}\n\nfunction setHistoryTab() {\n\t// 1年分\n\tconst startTime = new Date().getTime() - (1000 * 60 * 60 * 24 * 265)\n\tconst query = {\n\t\ttext: '',\n\t\tstartTime: startTime,\n\t\tmaxResults: 50000\n\t}\n\n\tlet historyList = []\n\tchrome.history.search(query, function (results) {\n\t\t// resultsは配列なので、forEach()関数を実行することが出来る\n\t\tconst reverseResult = results.reverse()\n\t\treverseResult.forEach(function (result) {\n\t\t\t// resultひとつひとつがHistoryItem形式\n\t\t\thistoryList.push({\n\t\t\t\turl: result.url,\n\t\t\t\ttitle: result.title\n\t\t\t})\n\t\t});\n\n\t\tmuff.setSearchWordList(historyList)\n\t})\n}\n\nfunction vueInit() {\n\tnew Vue({\n\t\tel: '#muffin',\n\t\tdata: {\n\t\t\tinputValue: ''\n\t\t},\n\t\tmethods: {\n\t\t\tsearch(inputValue) {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tlet results = muff.search(inputValue)\n\t\t\t\t\tresolve(results)\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetData(results) {\n\t\t\t\treturn results.list\n\t\t\t}\n\t\t},\n\t\tsubscriptions() {\n\t\t\treturn {\n\t\t\t\tresults: this.$watchAsObservable('inputValue').pipe(\n\t\t\t\t\tpluck('newValue'),\n\t\t\t\t\tdebounceTime(500),\n\t\t\t\t\tswitchMap(this.search),\n\t\t\t\t\tmap(this.setData)\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t})\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}