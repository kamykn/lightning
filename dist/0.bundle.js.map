{"version":3,"sources":["webpack:///./assets/js/index.js","webpack:///./assets/scss/style.scss"],"names":["Vue","use","VueRx","vm","data","inputString","currentSelected","currentSearchType","searchTypes","HISTORY","BOOKMARKS","TABS","filters","toUpperFirst","text","toString","charAt","toUpperCase","slice","toLowerCase","mounted","muff","setReturnListLength","changeToHistorySearch","methods","setSearchType","searchType","nextSearchType","event","preventDefault","searchTypeList","Object","values","Math","max","min","setNewSearchType","prevSearchType","changeToBookmarksSearch","changeToTabsSearch","search","results","setSearchResultsToData","Promise","resolve","Array","isArray","list","length","startTime","Date","getTime","query","maxResults","historyList","chrome","history","reverseResult","reverse","forEach","result","push","url","title","setSearchWordList","tabs","currentWindow","searchWordList","tab","index","id","bookmarks","getTree","bookmarksTree","pushBookmarkListRecursive","console","log","parentPath","i","bookmark","path","children","currentPath","resetCurrentSelector","moveUpSelector","type","resultRestScroll","moveDownSelector","$nextTick","selectedLi","document","getElementsByClassName","scrollIntoView","behavior","block","select","window","open","update","parseInt","active","subscriptions","$watchAsObservable","pipe","pluck","debounceTime","switchMap","map","directives","focus","inserted","el","onload","$mount"],"mappings":"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","file":"0.bundle.js","sourcesContent":["import { muff } from 'muff'\nimport Vue from 'vue/dist/vue.esm.js'\nimport VueRx from 'vue-rx'\nimport { from } from 'rxjs';\nimport { pluck, debounceTime, switchMap, map } from 'rxjs/operators'\nimport '@babel/polyfill'\n\nimport style from '../scss/style.scss'\n\nVue.use(VueRx)\n\nlet vm = new Vue({\n\tdata: {\n\t\tinputString: '',\n\t\tcurrentSelected: -1, // 結果配列のindexなので選択されていない状態は-1とする\n\t\tcurrentSearchType: 0,\n\t\tsearchTypes: {\n\t\t\tHISTORY:   1,\n\t\t\tBOOKMARKS: 2,\n\t\t\tTABS:      3\n\t\t},\n\t},\n\tfilters: {\n\t\ttoUpperFirst : (text) => {\n\t\t\ttext = text.toString()\n\t\t\treturn text.toString().charAt(0).toUpperCase() + text.slice(1).toLowerCase()\n\t\t},\n\t\ttoLowerCase : (text) => {\n\t\t\treturn text.toString().toLowerCase()\n\t\t}\n\t},\n\tmounted() {\n\t\t// 結果の数を設定\n\t\tmuff.setReturnListLength(20)\n\t\t// 初期モードはHistory\n\t\tthis.changeToHistorySearch()\n\t},\n\tmethods: {\n\t\tsetSearchType(searchType) {\n\t\t\tthis.currentSearchType = searchType\n\t\t},\n\t\tnextSearchType(event) {\n\t\t\tif (event) {event.preventDefault()}\n\n\t\t\tconst searchTypeList = Object.values(this.searchTypes)\n\t\t\tlet nextSearchType = this.currentSearchType + 1\n\t\t\tif (nextSearchType > Math.max(...searchTypeList)) {\n\t\t\t\tnextSearchType = Math.min(...searchTypeList)\n\t\t\t}\n\n\t\t\tthis.setNewSearchType(nextSearchType)\n\t\t},\n\t\tprevSearchType(event) {\n\t\t\tif (event) {event.preventDefault()}\n\n\t\t\tconst searchTypeList = Object.values(this.searchTypes)\n\t\t\tlet nextSearchType = this.currentSearchType - 1\n\t\t\tif (nextSearchType < Math.min(...searchTypeList)) {\n\t\t\t\tnextSearchType = Math.max(...searchTypeList)\n\t\t\t}\n\n\t\t\tthis.setNewSearchType(nextSearchType)\n\t\t},\n\t\tsetNewSearchType (nextSearchType) {\n\t\t\t(async () => {\n\t\t\t\tswitch (nextSearchType) {\n\t\t\t\t\tcase this.searchTypes.HISTORY:\n\t\t\t\t\t\tawait this.changeToHistorySearch()\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.searchTypes.BOOKMARKS:\n\t\t\t\t\t\tawait this.changeToBookmarksSearch()\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.searchTypes.TABS:\n\t\t\t\t\t\tawait this.changeToTabsSearch()\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tconst results = await this.search(this.inputString)\n\t\t\t\tthis.results = this.setSearchResultsToData(results)\n\t\t\t})()\n\t\t},\n\t\tsearch(inputString) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tlet results = muff.search(inputString)\n\t\t\t\tresolve(results)\n\t\t\t})\n\t\t},\n\t\tsetSearchResultsToData(results) {\n\t\t\t// リストの選択中の位置を調整\n\t\t\tif (Array.isArray(results.list)) {\n\t\t\t\tthis.currentSelected = Math.min(this.currentSelected, results.list.length - 1)\n\t\t\t}\n\n\t\t\treturn results.list\n\t\t},\n\t\tchangeToHistorySearch() {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tthis.setSearchType(this.searchTypes.HISTORY)\n\n\t\t\t\t// 1年分\n\t\t\t\tconst startTime = new Date().getTime() - (1000 * 60 * 60 * 24 * 265)\n\t\t\t\tconst query = {\n\t\t\t\t\ttext: '',\n\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\tmaxResults: 50000\n\t\t\t\t}\n\n\t\t\t\tlet historyList = []\n\t\t\t\tchrome.history.search(query, (results) => {\n\t\t\t\t\tconst reverseResult = results.reverse()\n\t\t\t\t\treverseResult.forEach((result) => {\n\t\t\t\t\t\t// resultひとつひとつがHistoryItem形式\n\t\t\t\t\t\thistoryList.push({\n\t\t\t\t\t\t\turl: result.url,\n\t\t\t\t\t\t\ttitle: result.title\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\n\t\t\t\t\tmuff.setSearchWordList(historyList)\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tchangeToTabsSearch() {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tthis.setSearchType(this.searchTypes.TABS)\n\n\t\t\t\tchrome.tabs.query({currentWindow: true}, (tabs) => {\n\t\t\t\t\tlet searchWordList = []\n\n\t\t\t\t\ttabs.forEach((tab, index) => {\n\t\t\t\t\t\tsearchWordList.push({\n\t\t\t\t\t\t\tindex: tab.index.toString(),\n\t\t\t\t\t\t\tid: tab.id.toString(),\n\t\t\t\t\t\t\ttitle: tab.title,\n\t\t\t\t\t\t\turl: tab.url\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\n\t\t\t\t\tmuff.setSearchWordList(searchWordList)\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tchangeToBookmarksSearch() {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tthis.setSearchType(this.searchTypes.BOOKMARKS)\n\n\t\t\t\tchrome.bookmarks.getTree((bookmarksTree) => {\n\t\t\t\t\tlet searchWordList = []\n\t\t\t\t\tsearchWordList = this.pushBookmarkListRecursive(bookmarksTree, searchWordList)\n\t\t\t\t\tconsole.log(searchWordList)\n\t\t\t\t\tmuff.setSearchWordList(searchWordList)\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tpushBookmarkListRecursive(bookmarksTree, searchWordList, parentPath) {\n\t\t\tif (typeof parentPath == 'undefined') {\n\t\t\t\tparentPath = ''\n\t\t\t}\n\n\t\t\tfor (let i =0; i < bookmarksTree.length; i++) {\n\t\t\t\tlet bookmark = bookmarksTree[i];\n\n\t\t\t\tif (bookmark.url) {\n\t\t\t\t\tsearchWordList.push({\n\t\t\t\t\t\tparentPath: parentPath, // TODO: 検索ignoreしたい\n\t\t\t\t\t\tpath: parentPath + bookmark.title,\n\t\t\t\t\t\ttitle: bookmark.title,\n\t\t\t\t\t\turl: bookmark.url\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif (bookmark.children) {\n\t\t\t\t\tlet currentPath = parentPath + bookmark.title + '/'\n\t\t\t\t\tsearchWordList = this.pushBookmarkListRecursive(bookmark.children, searchWordList, currentPath)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn searchWordList\n\t\t},\n\t\tresetCurrentSelector() {\n\t\t\tthis.currentSelected = -1\n\t\t},\n\t\tmoveUpSelector(type, event) {\n\t\t\tif (event) event.preventDefault()\n\n\t\t\tif (this.currentSelected > 0) {\n\t\t\t\tthis.currentSelected--\n\t\t\t}\n\n\t\t\tthis.resultRestScroll()\n\t\t},\n\t\tmoveDownSelector(type, event) {\n\t\t\tif (event) event.preventDefault()\n\n\t\t\tif (Array.isArray(this.results) && this.currentSelected < this.results.length - 1) {\n\t\t\t\tthis.currentSelected++\n\t\t\t}\n\n\t\t\tthis.resultRestScroll()\n\t\t},\n\t\tresultRestScroll() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst selectedLi = document.getElementsByClassName('currentSelected')[0]\n\t\t\t\tif (typeof selectedLi != 'undefined') {\n\t\t\t\t\tselectedLi.scrollIntoView({behavior: \"instant\", block: \"nearest\"})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tselect() {\n\t\t\tlet currentSelected = Math.max(this.currentSelected, 0)\n\t\t\tif (typeof this.results[currentSelected] != 'undefined') {\n\t\t\t\tif (this.currentSearchType == this.searchTypes.HISTORY ||\n\t\t\t\t\tthis.currentSearchType == this.searchTypes.BOOKMARKS\n\t\t\t\t) {\n\t\t\t\t\twindow.open(this.results[currentSelected].url)\n\t\t\t\t} else if (this.currentSearchType == this.searchTypes.TABS) {\n\t\t\t\t\t// https://stackoverflow.com/questions/36000099/check-if-window-is-already-open-from-a-non-parent-window-chrome-extension\n\t\t\t\t\tchrome.tabs.update(parseInt(this.results[currentSelected].id), {active: true})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tsubscriptions() {\n\t\treturn {\n\t\t\tresults: this.$watchAsObservable('inputString').pipe(\n\t\t\t\tpluck('newValue'),\n\t\t\t\tdebounceTime(500),\n\t\t\t\tswitchMap(this.search),\n\t\t\t\tmap(this.setSearchResultsToData)\n\t\t\t)\n\t\t}\n\t},\n\tdirectives: {\n\t\tfocus: {\n\t\t\t// ディレクティブ定義\n\t\t\tinserted: function (el) {\n\t\t\t\tel.focus()\n\t\t\t}\n\t\t}\n\t}\n})\n\nwindow.onload = () => {\n\tvm.$mount('#muffin')\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}