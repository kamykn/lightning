{"version":3,"sources":["webpack:///./assets/js/index.js"],"names":["Vue","use","VueRx","window","onload","init","vm","el","data","inputValue","methods","search","Promise","resolve","results","muff","setData","list","subscriptions","$watchAsObservable","pipe","pluck","debounceTime","switchMap","map","startTime","Date","getTime","query","text","maxResults","historyList","chrome","history","forEach","result","push","url","title","console","log","length","setSearchWordList","setReturnListLength"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEAA,2DAAG,CAACC,GAAJ,CAAQC,8CAAR;;AAEAC,MAAM,CAACC,MAAP,GAAgB,YAAW;AAC1BC,MAAI;AACJ,CAFD;;AAIA,IAAIC,EAAE,GAAG,IAAT;;AAEA,SAASD,IAAT,GAAgB;AAEfC,IAAE,GAAG,IAAIN,2DAAJ,CAAQ;AACZO,MAAE,EAAE,SADQ;AAEZC,QAAI,EAAE;AACLC,gBAAU,EAAE;AADP,KAFM;AAKZC,WAAO,EAAE;AACRC,YADQ,kBACDF,UADC,EACW;AAClB,eAAO,IAAIG,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC7B,cAAIC,OAAO,GAAGC,yCAAI,CAACJ,MAAL,CAAYF,UAAZ,CAAd;AACAI,iBAAO,CAACC,OAAD,CAAP;AACA,SAHM,CAAP;AAIA,OANO;AAORE,aAPQ,mBAOAF,OAPA,EAOS;AAChB,eAAOA,OAAO,CAACG,IAAf;AACA;AATO,KALG;AAgBZC,iBAhBY,2BAgBI;AACf,aAAO;AACNJ,eAAO,EAAE,KAAKK,kBAAL,CAAwB,YAAxB,EAAsCC,IAAtC,CACRC,4DAAK,CAAC,UAAD,CADG,EAERC,mEAAY,CAAC,GAAD,CAFJ,EAGRC,gEAAS,CAAC,KAAKZ,MAAN,CAHD,EAIRa,0DAAG,CAAC,KAAKR,OAAN,CAJK;AADH,OAAP;AAQA;AAzBW,GAAR,CAAL;AA4BA,MAAMS,SAAS,GAAG,IAAIC,IAAJ,GAAWC,OAAX,KAAwB,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAjB,GAAsB,GAAhE;AACA,MAAMC,KAAK,GAAG;AACbC,QAAI,EAAE,EADO;AAEbJ,aAAS,EAAEA,SAFE;AAGbK,cAAU,EAAE;AAHC,GAAd;AAKA,MAAIC,WAAW,GAAG,EAAlB;AACAC,QAAM,CAACC,OAAP,CAAetB,MAAf,CAAsBiB,KAAtB,EAA6B,UAAUd,OAAV,EAAmB;AAC/C;AACAA,WAAO,CAACoB,OAAR,CAAgB,UAAUC,MAAV,EAAkB;AACjC;AACAJ,iBAAW,CAACK,IAAZ,CAAiB;AAChBC,WAAG,EAAEF,MAAM,CAACE,GADI;AAEhBC,aAAK,EAAEH,MAAM,CAACG;AAFE,OAAjB;AAIA,KAND;AAQAC,WAAO,CAACC,GAAR,CAAYT,WAAZ;AACAQ,WAAO,CAACC,GAAR,CAAY1B,OAAO,CAAC2B,MAApB;AACA1B,6CAAI,CAAC2B,iBAAL,CAAuBX,WAAvB;AACA,GAbD;AAgBAhB,2CAAI,CAAC4B,mBAAL,CAAyB,EAAzB;AACA,C","file":"0.bundle.js","sourcesContent":["import { muff } from \"muff\"\nimport Vue from \"vue/dist/vue.esm.js\"\nimport VueRx from 'vue-rx'\nimport { from } from 'rxjs';\nimport { pluck, debounceTime, switchMap, map } from 'rxjs/operators'\n\nVue.use(VueRx)\n\nwindow.onload = function() {\n\tinit()\n}\n\nlet vm = null;\n\nfunction init() {\n\n\tvm = new Vue({\n\t\tel: '#muffin',\n\t\tdata: {\n\t\t\tinputValue: ''\n\t\t},\n\t\tmethods: {\n\t\t\tsearch(inputValue) {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tlet results = muff.search(inputValue)\n\t\t\t\t\tresolve(results)\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetData(results) {\n\t\t\t\treturn results.list\n\t\t\t}\n\t\t},\n\t\tsubscriptions() {\n\t\t\treturn {\n\t\t\t\tresults: this.$watchAsObservable('inputValue').pipe(\n\t\t\t\t\tpluck('newValue'),\n\t\t\t\t\tdebounceTime(500),\n\t\t\t\t\tswitchMap(this.search),\n\t\t\t\t\tmap(this.setData)\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t})\n\n\tconst startTime = new Date().getTime() - (1000 * 60 * 60 * 24 * 265)\n\tconst query = {\n\t\ttext: '',\n\t\tstartTime: startTime,\n\t\tmaxResults: 1000000\n\t}\n\tlet historyList = []\n\tchrome.history.search(query, function (results) {\n\t\t// resultsは配列なので、forEach()関数を実行することが出来る\n\t\tresults.forEach(function (result) {\n\t\t\t// resultひとつひとつがHistoryItem形式\n\t\t\thistoryList.push({\n\t\t\t\turl: result.url,\n\t\t\t\ttitle: result.title\n\t\t\t})\n\t\t});\n\n\t\tconsole.log(historyList)\n\t\tconsole.log(results.length)\n\t\tmuff.setSearchWordList(historyList)\n\t});\n\n\n\tmuff.setReturnListLength(20)\n}\n\n"],"sourceRoot":""}